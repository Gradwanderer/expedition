(function(t){function a(a){for(var n,r,o=a[0],l=a[1],c=a[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(a);while(d.length)d.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,o=1;o<e.length;o++){var l=e[o];0!==s[l]&&(n=!1)}n&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var n={},s={app:0},i=[];function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)r.d(e,n,function(a){return t[a]}.bind(null,n));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";e("85ec")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"background"}}),e("h1",[t._v("Capgemini Environmental Impact Dashboard.")]),e("h2",{staticClass:"sectionHeadline"},[t._v("Your Entire Building.")]),e("div",{staticClass:"kpis"},[e("b-tooltip",{attrs:{position:"is-bottom",label:"Current Energy Consumption"}},[e("div",{staticClass:"kpi"},[e("div",{staticClass:"kpiIcon"},[e("i",{staticClass:"fal fa-plug"})]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.apiData.building.totalPowerConsumption||".....")+" kW ")])])]),e("b-tooltip",{attrs:{position:"is-bottom",label:"Data Center Energy Consumption"}},[e("div",{staticClass:"kpi"},[e("div",{staticClass:"kpiIcon"},[e("i",{staticClass:"fal fa-server"})]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.apiData.building.powerConsumptionDataCenter||".....")+" kW ")])])]),e("b-tooltip",{attrs:{position:"is-bottom",label:"Solar Energy Production"}},[e("div",{staticClass:"kpi"},[e("div",{staticClass:"kpiIcon"},[e("i",{staticClass:"fal fa-solar-panel"})]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.apiData.building.solarPowerOutput)+" kW ")])])]),e("b-tooltip",{attrs:{position:"is-bottom",label:"Current Water Consumption"}},[e("div",{staticClass:"kpi"},[e("div",{staticClass:"kpiIcon"},[e("i",{staticClass:"fal fa-faucet-drip"})]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.apiData.building.waterConsumption||0)+" l ")])])])],1),e("h2",{staticClass:"sectionHeadline"},[t._v("Roomwise Breakdown.")]),e("div",{staticClass:"rooms"},t._l(t.rankedRooms,(function(a,n){return e("div",{key:a.id,staticClass:"room"},[e("div",{staticClass:"roomHeader"},[e("div",{staticClass:"roomTitle",class:{isGreen:0==n||100==a.score,isRed:t.getWarnings(a).length>0}},[t._v(" "+t._s(a.id))]),e("div",{staticClass:"roomEcoPoints"},[e("i",{staticClass:"fal fa-leaf"}),t._v(" "+t._s(a.score.toFixed(0))+"% "),e("i",{staticClass:"fal fa-medal"}),t._v(" "+t._s(n+1)+" ")])]),e("div",{staticClass:"roomDetails"},[e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-lightbulb-on"}),t._v(" "),e("span",{staticClass:"name"},[t._v("Light")]),t._v(": "+t._s(a.sensors.lightOn?"On":"Off")+" ")]),e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-window-frame-open"}),t._v(" "),e("span",{staticClass:"name"},[t._v("Windows")]),t._v(": "+t._s(a.sensors.windowsOpen?"Open":"Closed")+" ")]),e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-air-conditioner"}),t._v(" "),e("span",{staticClass:"name"},[t._v("AC")]),t._v(": "+t._s(a.sensors.airConditioningRunning?"Running":"Off")+" ")]),e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-heat"}),t._v(" "),e("span",{staticClass:"name"},[t._v("Heater")]),t._v(": "+t._s(a.sensors.heaterRunning?"Running":"Off")+" ")]),e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-thermometer-quarter"}),t._v(" "),e("span",{staticClass:"name"},[t._v("Temperature")]),t._v(": "+t._s(a.temperature.toFixed(1))+"°C  ")]),e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-thermometer-quarter"}),t._v(" "),e("span",{staticClass:"name"},[t._v("Power Consumption")]),t._v(": "+t._s(a.powerConsumption.toFixed(2))+" kW ")]),e("div",{staticClass:"roomDetail"},[e("i",{staticClass:"fal fa-users"}),t._v(" "),e("span",{staticClass:"name"},[t._v("Reservations")]),t._v(": "+t._s(a.workplaceReservations)+" ")])]),t.getWarnings(a).length>0?e("div",{staticClass:"warning"},t._l(t.getWarnings(a),(function(a){return e("div",{key:a.id},[e("i",{staticClass:"fal fa-exclamation-triangle"}),t._v(t._s(t.warningStrings[a]))])})),0):t._e()])})),0)])},i=[],r=e("1da1"),o=(e("96cf"),e("159b"),e("bc3a")),l=e.n(o),c=e("2ef0"),u=e.n(c),p={"W+AC":"Window open & AC running!","W+Heater":"Window open & Heater running!","Heater+Empty":"Heater running & Office unoccupied!","AC+Empty":"AC running & Office unoccupied!","Light+Empty":"Lights on & Office unoccupied!"},d={name:"App",data:function(){return{warningStrings:p,reloadInterval:null,rooms:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],datacollection:null,apiData:{building:{powerConsumption:"..."},rooms:[]}}},methods:{fetchData:function(){var t=this;l.a.get("api/live-data").then((function(a){t.apiData=a.data,t.apiData.rooms.forEach((function(a){a.score=t.getScore(a)}))}))},getWarnings:function(t){var a=[];return t.sensors.windowsOpen&&t.sensors.airConditioningRunning&&a.push("W+AC"),t.sensors.windowsOpen&&t.sensors.heaterRunning&&a.push("W+Heater"),0==t.workplaceReservations&&t.sensors.heaterRunning&&a.push("Heater+Empty"),0==t.workplaceReservations&&t.sensors.airConditioningRunning&&a.push("AC+Empty"),0==t.workplaceReservations&&t.sensors.lightOn&&a.push("Light+Empty"),a},getScore:function(t){var a=this.getWarnings(t).length,e=.2;t.sensors.heaterRunning&&(t.temperature>21&&(e=-.2),t.temperature>20?e=-.15:t.temperature>19.5?e=0:t.temperature>19?e=.05:t.temperature>18.5&&(e=.1));var n=.2;t.sensors.airConditioningRunning&&(t.temperature<19?n=-.2:t.temperature<20&&(n=-.1));var s=.2;return t.powerConsumption&&(t.powerConsumption>2?s=-.3:t.powerConsumption>1.8?s=-.2:t.powerConsumption>1.7?s=-.1:t.powerConsumption>1.6?s=0:t.powerConsumption>1.5&&(s=.1)),100*Math.min(1,Math.max(.6-.4*a+e+n+s,0))}},computed:{rankedRooms:function(){return this.apiData&&this.apiData.rooms?u.a.orderBy(this.apiData.rooms,"score","desc"):[]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.fetchData(),t.reloadInterval=setInterval((function(){return t.fetchData()}),3e4);case 2:case"end":return a.stop()}}),a)})))()}},f=d,v=(e("034f"),e("2877")),m=Object(v["a"])(f,s,i,!1,null,null,null),C=m.exports,g=e("289d");e("5abe");n["a"].use(g["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(C)}}).$mount("#app")},"85ec":function(t,a,e){}});
//# sourceMappingURL=app.664c55ca.js.map